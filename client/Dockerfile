FROM node:20.16.0-alpine

ARG PROXY_ACTUATOR_URL
ARG PROXY_API_URL
ARG HOST

ENV PROXY_ACTUATOR_URL=$PROXY_ACTUATOR_URL
ENV PROXY_API_URL=$PROXY_API_URL
ENV HOST=$HOST

WORKDIR /app

COPY . .

RUN npm install

RUN npm run build

EXPOSE 4173

CMD [ "npm", "run", "serve" ]